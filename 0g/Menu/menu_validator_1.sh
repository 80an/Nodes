#!/bin/bash

show_menu() {
  clear
  echo "========= üìã –ú–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–º ========="
  echo "1) üí∞ –°–æ–±—Ä–∞—Ç—å –∫–æ–º–∏—Å—Å–∏–∏ –∏ —Ä–µ–≤–∞—Ä–¥—ã –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞"
  echo "2) üí∏ –°–æ–±—Ä–∞—Ç—å —Ä–µ–≤–∞—Ä–¥—ã —Å–æ –≤—Å–µ—Ö –∫–æ—à–µ–ª—å–∫–æ–≤"
  echo "3) üì• –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—É —Å–æ –≤—Å–µ—Ö –∫–æ—à–µ–ª—å–∫–æ–≤"
  echo "4) üó≥ –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ"
  echo "5) üö™ –í—ã—Ö–æ–¥ –∏–∑ —Ç—é—Ä—å–º—ã (unjail)"
  echo "6) ‚úÖ –í–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞"
  echo "7) ‚õî –û—Ç–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞"
  echo "8) ‚ùå –í—ã—Ö–æ–¥"
  echo "=================================================="
}

while true; do
  show_menu
  read -p "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ: " choice

  case $choice in
    1)
      echo "–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–±–æ—Ä –∫–æ–º–∏—Å—Å–∏–π –∏ —Ä–µ–≤–∞—Ä–¥–æ–≤ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞..."
      # –ó–¥–µ—Å—å –≤—Å—Ç–∞–≤—å –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å–Ω—è—Ç–∏—è –∫–æ–º–∏—Å—Å–∏–π –∏ —Ä–µ–≤–∞—Ä–¥–æ–≤
      ;;
    2)
      echo "–°–±–æ—Ä —Ä–µ–≤–∞—Ä–¥–æ–≤ —Å–æ –≤—Å–µ—Ö –∫–æ—à–µ–ª—å–∫–æ–≤..."
      # –í—Å—Ç–∞–≤—å –ª–æ–≥–∏–∫—É —Å–±–æ—Ä–∞ —Ä–µ–≤–∞—Ä–¥–æ–≤ —Å multisend –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
      ;;
    3)
      echo "–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—É —Å–æ –≤—Å–µ—Ö –∫–æ—à–µ–ª—å–∫–æ–≤..."
      # –í—Å—Ç–∞–≤—å –ª–æ–≥–∏–∫—É –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∫–∞–∂–¥–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
      ;;
    4)
      echo "–ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è..."
      # –ö–æ–º–∞–Ω–¥–∞ –∏–ª–∏ –≤—ã–∑–æ–≤ —Å–∫—Ä–∏–ø—Ç–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
      ;;
    5)
      echo "–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—ã—Ö–æ–¥ –∏–∑ —Ç—é—Ä—å–º—ã (unjail)..."
      printf "%s" "$KEYRING_PASSWORD" | 0gchaind tx slashing unjail \
        --from "$WALLET_NAME" \
        --chain-id zgtendermint_16600-2 \
        --gas-adjustment 1.5 \
        --gas auto \
        --gas-prices 0.003ua0gi \
        -y
      ;;
    6)
      echo "‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ –∑–∞–ø—É—â–µ–Ω."
      nohup bash "$HOME/only_monitoring.sh" > /dev/null 2>&1 &
      ;;
    7)
      echo "‚õî –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞..."
      pkill -f only_monitoring.sh
      ;;
    8)
      echo "–í—ã—Ö–æ–¥..."
      break
      ;;
    *)
      echo "‚ùó –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞."
      ;;
  esac
  echo
  read -p "–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é..."
done
