#!/bin/bash

# –§–∞–π–ª –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
ENV_FILE="$HOME/.validator_env"

# –ï—Å–ª–∏ —Ñ–∞–π–ª —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ–º –µ–≥–æ –∏ –≤—ã—Ö–æ–¥–∏–º
if [ -f "$ENV_FILE" ]; then
  echo "$ENV_FILE –Ω–∞–π–¥–µ–Ω. –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ..."
  source "$ENV_FILE"
  echo "–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã. –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤–≤–æ–¥ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è."
  return 0 2>/dev/null || exit 0
fi

# –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –ø–∞—Ä–æ–ª—å –¥–ª—è Keyring
read -s -p "–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è Keyring: " KEYRING_PASSWORD
echo

# –í—ã–±–∏—Ä–∞–µ–º, —á—Ç–æ –≤–≤–æ–¥–∏—Ç—å - –∏–º—è –∫–æ—à–µ–ª—å–∫–∞ –∏–ª–∏ –∞–¥—Ä–µ—Å
echo "–í—ã–±–µ—Ä–∏—Ç–µ, —á—Ç–æ –≤–≤–æ–¥–∏—Ç—å:"
echo "1) –ò–º—è –∫–æ—à–µ–ª—å–∫–∞"
echo "2) –ê–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞"
read -p "–ß—Ç–æ –≤—ã–±–∏—Ä–∞–µ—Ç–µ? (1 –∏–ª–∏ 2): " choice

if [ "$choice" -eq 1 ]; then
  # –í–≤–æ–¥–∏–º –∏–º—è –∫–æ—à–µ–ª—å–∫–∞
  read -p "–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–æ—à–µ–ª—å–∫–∞: " WALLET_NAME
  # –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–º–µ–Ω–∏
  WALLET_ADDRESS=$(echo "$KEYRING_PASSWORD" | 0gchaind keys show "$WALLET_NAME" --bech acc -a)
elif [ "$choice" -eq 2 ]; then
  # –í–≤–æ–¥–∏–º –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞
  read -p "–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞: " WALLET_ADDRESS
  # –ü–æ–ª—É—á–∞–µ–º –∏–º—è –∫–æ—à–µ–ª—å–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–¥—Ä–µ—Å–∞
  WALLET_NAME=$(echo "$KEYRING_PASSWORD" | 0gchaind keys show "$WALLET_ADDRESS" --output json | jq -r '.name')
else
  echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ 1 –∏–ª–∏ 2."
  exit 1
fi

# –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–º–µ–Ω–∏ –∫–æ—à–µ–ª—å–∫–∞
VALIDATOR_ADDRESS=$(echo "$KEYRING_PASSWORD" | 0gchaind keys show "$WALLET_NAME" --bech val -a)

# –ó–∞–ø—Ä–æ—Å –Ω–∞ –≤–≤–æ–¥ Telegram –¥–∞–Ω–Ω—ã—Ö (—Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–æ–ø—É—Å–∫–∞)
echo "–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, –º–æ–∂–µ—Ç–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Telegram. –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –≤–≤–µ—Å—Ç–∏ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥."
read -p "–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞ (–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å): " TELEGRAM_BOT_TOKEN
read -p "–í–≤–µ–¥–∏—Ç–µ Chat ID Telegram (–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å): " TELEGRAM_CHAT_ID

# –ó–∞–ø–∏—Å—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ .env —Ñ–∞–π–ª (—Å export)
echo "export KEYRING_PASSWORD=\"$KEYRING_PASSWORD\"" > "$ENV_FILE"
echo "export WALLET_NAME=\"$WALLET_NAME\"" >> "$ENV_FILE"
echo "export WALLET_ADDRESS=\"$WALLET_ADDRESS\"" >> "$ENV_FILE"
echo "export VALIDATOR_ADDRESS=\"$VALIDATOR_ADDRESS\"" >> "$ENV_FILE"

# –ó–∞–ø–∏—Å—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è Telegram —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏ –≤–≤–µ–¥–µ–Ω—ã
if [ -n "$TELEGRAM_BOT_TOKEN" ] && [ -n "$TELEGRAM_CHAT_ID" ]; then
  echo "export TELEGRAM_BOT_TOKEN=\"$TELEGRAM_BOT_TOKEN\"" >> "$ENV_FILE"
  echo "export TELEGRAM_CHAT_ID=\"$TELEGRAM_CHAT_ID\"" >> "$ENV_FILE"
else
  echo "# Telegram settings can be added later when enabling monitoring" >> "$ENV_FILE"
fi


echo ".env —Ñ–∞–π–ª —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è!"

# –î–æ–±–∞–≤–ª—è–µ–º –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É .validator_env –≤ .bashrc, –µ—Å–ª–∏ –æ–Ω–∞ –µ—â—ë –Ω–µ –ø—Ä–æ–ø–∏—Å–∞–Ω–∞
BASHRC_FILE="$HOME/.bashrc"

if ! grep -q "source \$HOME/.validator_env" "$BASHRC_FILE"; then
  echo "–î–æ–±–∞–≤–ª—è–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ .bashrc..."
  echo -e "\n# –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞\nif [ -f \"\$HOME/.validator_env\" ]; then\n  source \"\$HOME/.validator_env\"\nfi" >> "$BASHRC_FILE"
  echo "–ì–æ—Ç–æ–≤–æ! –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞."
else
  echo "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞."
fi
# === –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ ===

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–µ–∫—É—â—É—é –æ–±–æ–ª–æ—á–∫—É
USER_SHELL=$(basename "$SHELL")
SHELL_RC="$HOME/.bashrc"

if [[ "$USER_SHELL" == "zsh" ]]; then
  SHELL_RC="$HOME/.zshrc"
fi

# –î–æ–±–∞–≤–ª—è–µ–º source .validator_env –≤ RC-—Ñ–∞–π–ª (–µ—Å–ª–∏ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω)
if ! grep -q 'source \$HOME/.validator_env' "$SHELL_RC" && ! grep -q 'source $HOME/.validator_env' "$SHELL_RC"; then
  echo "–î–æ–±–∞–≤–ª—è–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø–æ–¥–≥—Ä—É–∑–∫—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ $SHELL_RC..."
  echo -e "\n# –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞\nif [ -f \"\$HOME/.validator_env\" ]; then\n  source \"\$HOME/.validator_env\"\nfi" >> "$SHELL_RC"
  echo "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ $SHELL_RC"
else
  echo "‚úÖ –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ $SHELL_RC"
fi

# –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º –∑–∞–ø—É—Å–∫ RC-—Ñ–∞–π–ª–∞ –ø—Ä–∏ login-—Å–µ—Å—Å–∏–∏
PROFILE_FILE="$HOME/.profile"
if [ "$SHELL_RC" = "$HOME/.bashrc" ]; then
  if ! grep -q 'source ~/.bashrc' "$PROFILE_FILE"; then
    echo "–î–æ–±–∞–≤–ª—è–µ–º source ~/.bashrc –≤ ~/.profile –¥–ª—è login-—Å–µ—Å—Å–∏–π..."
    echo 'source ~/.bashrc' >> "$PROFILE_FILE"
    echo "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ ~/.profile"
  else
    echo "‚úÖ ~/.profile —É–∂–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç ~/.bashrc"
  fi
fi

echo "‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞."
echo "source $SHELL_RC"

# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è .env
if [ -f "$HOME/.validator_env" ]; then
  source "$HOME/.validator_env"
fi
echo "‚úÖ –í–≤–µ–¥–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã."

# –ú–µ–Ω—é –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–º========================================================================================================================
while true; do
  echo
  echo "========= üìã –ú–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–º ========="
  echo "1) üí∞ –ó–∞–±—Ä–∞—Ç—å –∫–æ–º–∏—Å—Å–∏–∏ –∏ —Ä–µ–≤–∞—Ä–¥—ã –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞"
  echo "2) üí∏ –ó–∞–±—Ä–∞—Ç—å –≤—Å–µ —Ä–µ–≤–∞—Ä–¥—ã —Å–æ –≤—Å–µ—Ö –∫–æ—à–µ–ª—å–∫–æ–≤"
  echo "3) üì• –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ –≤—Å–µ—Ö –∫–æ—à–µ–ª—å–∫–æ–≤ –≤ —Å–≤–æ–µ–≥–æ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞"
  echo "4) üó≥ –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –ø–æ –ø—Ä–æ–ø–æ–∑–∞–ª—É"
  echo "5) üö™ –í—ã–∑–≤–æ–ª–∏—Ç—å –∏–∑ —Ç—é—Ä—å–º—ã"
  echo "6) ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞"
  echo "7) üìú –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–ø–æ–∑–∞–ª–æ–≤"
  echo "8) ‚ùå –í—ã—Ö–æ–¥"
  echo "=================================================="
  echo

  read -p "–í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç –º–µ–Ω—é (1-8): " choice

    case $choice in
    1)
      echo "üí∞ –ó–∞–±—Ä–∞—Ç—å –∫–æ–º–∏—Å—Å–∏–∏ –∏ —Ä–µ–≤–∞—Ä–¥—ã –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞"
      # –ü—Ä–∏–º–µ—Ä: –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–Ω—è—Ç–∏—è –Ω–∞–≥—Ä–∞–¥ –∏ –∫–æ–º–∏—Å—Å–∏–π
      # $BINARY tx distribution withdraw-rewards $VALIDATOR_ADDRESS --commission --from $WALLET_NAME --chain-id $CHAIN_ID --gas auto --fees 5000$DENOM -y
      ;;
    2)
      echo "üí∏ –ó–∞–±—Ä–∞—Ç—å –≤—Å–µ —Ä–µ–≤–∞—Ä–¥—ã —Å–æ –≤—Å–µ—Ö –∫–æ—à–µ–ª—å–∫–æ–≤"
      # –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –≤—Å–µ –∞–¥—Ä–µ—Å–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É withdraw-rewards –¥–ª—è –∫–∞–∂–¥–æ–≥–æ
      ;;
    3)
      echo "üì• –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ –≤—Å–µ—Ö –∫–æ—à–µ–ª—å–∫–æ–≤ –≤ —Å–≤–æ–µ–≥–æ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞"
      # –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, —Ü–∏–∫–ª –ø–æ –∞–¥—Ä–µ—Å–∞–º, –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —Å—Ä–µ–¥—Å—Ç–≤
      ;;
    4)
      echo "üó≥ –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –ø–æ –ø—Ä–æ–ø–æ–∑–∞–ª—É"
      read -p "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –ø—Ä–æ–ø–æ–∑–∞–ª–∞: " proposal
      read -p "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≥–æ–ª–æ—Å (yes/no/abstain/no_with_veto): " vote
      # $BINARY tx gov vote $proposal $vote --from $WALLET_NAME --chain-id $CHAIN_ID --fees 5000$DENOM -y
      ;;
    5)
      echo "üö™ –í—ã–∑–≤–æ–ª–∏—Ç—å –∏–∑ —Ç—é—Ä—å–º—ã"
      # $BINARY tx slashing unjail --from $WALLET_NAME --chain-id $CHAIN_ID --fees 5000$DENOM -y
      ;;
    6)
      while true; do
        echo
        echo "=== ‚úÖ –ü–æ–¥–º–µ–Ω—é –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ ==="
        echo "1) ‚ñ∂Ô∏è –í–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"
        echo "2) üìä –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"
        echo "3) ‚èπ –û—Ç–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"
        echo "4) üîô –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
        echo "========================================="
        read -p "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ (1-4): " subchoice

        case $subchoice in
          1)
            echo "‚ñ∂Ô∏è –í–∫–ª—é—á–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞..."
            # –ü—Ä–∏–º–µ—Ä: –∑–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∞–∫ systemd-—Å–µ—Ä–≤–∏—Å –∏–ª–∏ screen/tmux
            ;;
          2)
            echo "üìä –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞..."
            # –ü—Ä–∏–º–µ—Ä: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–ª–∏ —Å–µ—Ä–≤–∏—Å–∞
            ;;
          3)
            echo "‚õî –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞..."
            # –ü—Ä–∏–º–µ—Ä: –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
            ;;
          4)
            echo "üîô –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é..."
            break
            ;;
          *)
            echo "üö´ –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ç 1 –¥–æ 4."
            ;;
        esac
      done
      ;;
    7)
      while true; do
        echo
        echo "=== üìú –ü–æ–¥–º–µ–Ω—é –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–ø–æ–∑–∞–ª–æ–≤ ==="
        echo "1) ‚ñ∂Ô∏è –í–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"
        echo "2) üìä –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"
        echo "3) ‚èπ –û—Ç–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"
        echo "4) üîô –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
        echo "========================================="
        read -p "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ (1-4): " subchoice

        case $subchoice in
          1)
            echo "‚ñ∂Ô∏è –í–∫–ª—é—á–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–ø–æ–∑–∞–ª–æ–≤..."
            # –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
            ;;
          2)
            echo "üìä –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–ø–æ–∑–∞–ª–æ–≤..."
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–ª–∏ –ª–æ–≥–æ–≤
            ;;
          3)
            echo "‚õî –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–ø–æ–∑–∞–ª–æ–≤..."
            # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
            ;;
          4)
            echo "üîô –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é..."
            break
            ;;
          *)
            echo "üö´ –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ç 1 –¥–æ 4."
            ;;
        esac
      done
      ;;
    8)
      echo "‚ùå –í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã..."
      break
      ;;
    *)
      echo "üö´ –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç –æ—Ç 1 –¥–æ 8."
      ;;
  esac
done
